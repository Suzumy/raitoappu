# wani_request
## Wanictf 2021 spring
## Web
***
どうやら自分でサーバを建て、そこにアクセスされた様子からフラグを見つける問題らしい。  
まずはRequestBinで一時的なサーバを建てる。  
とりあえず適当にアカウントを作ってサーバを建てる。  
問題を読むと、URLを送ってアクセスしてもらう必要があるらしい。とりあえずURLを送ってみる。  
すると、URL received.と表示される。サーバの方を見てみると、確かにアクセスされた履歴がある。  
この履歴からフラグを探すことになるが、問題のヒントにHTTPヘッダーとあったため、おそらくHTTPヘッダーにフラグに関係する情報があると考えられる。  
response -> body -> headersとクリックしていくと、ヘッダー情報が見られる。ヘッダーの中のrefererという項目を見ると、
> http://w4ni-secre7-h1mitu-pa6e.s3-website-ap-northeast-1.amazonaws.com/?url=https://enmnvv7ojugjxl6.m.pipedream.net/

というリンクが書かれてある。h1mituとか書いてるし怪しそうなのでアクセスしてみる。  
アクセスするとやはりフラグが書かれていたため、これをsubmitする。  

今回使用したrefererという項目は、「現在リクエストされているページへのリンク先を持った直前のウェブページのアドレス」を含むヘッダーを指す。  
例えば自分のサーバにおいてあるウェブページをサイトAとする。自分のサイトにたくさんの人にアクセスしてもらうため、サイトBに自分のページのURLを掲載してもらうことにした。  
この状態で自分のウェブページへのアクセスを解析すると、自分のウェブページへアクセスされる前に、確実にURLを掲載してもらったサイトBにアクセスされていることになる。この時refererヘッダーにはサイトBのURLが表示されることになる。このように、自分のページにアクセスする前に、どのページにいたのかという情報を持つヘッダーがrefererヘッダーである。  
